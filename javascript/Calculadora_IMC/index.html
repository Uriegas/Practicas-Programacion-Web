<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Calculadora IMC</title>
</head>
<body>
    <div>
        <label>Estatura: </label>
        <input type="text" name="" id="estatura">
        <label>m</label>
    </div>
    <div>
        <label>Peso: </label>
        <input type="text" name="" id="peso">
        <label>kg</label>
    </div>
    <div>
        <input type="button" onclick="compute();" value="compute">
    </div>
    <div id="result">
        <h1 id="mensaje">Tu IMC es: </h1>
    </div>

    <script type="text/javascript">
        function compute(){
            
            var estatura = parseFloat(document.getElementById("estatura").value);
            var peso = parseFloat(document.getElementById("peso").value);
            var mensaje = document.getElementById("mensaje");
            var imc = to_imc( peso, estatura );
            var type = classifier(imc);
            
            mensaje.innerHTML = mensaje.innerHTML.slice(0, 11);
            if( image = document.getElementById("result").getElementsByTagName("img")[0]){
                document.getElementById("result").removeChild(image);
            }
            mensaje.innerHTML += imc;
            var img = document.createElement("img");
            img.src = "fig/" + type + ".jpeg";
            document.getElementById("result").appendChild(img);
        }

        function to_imc( peso, altura ){
            var imc = peso / (altura * altura);
            return imc;
        }
        function classifier(imc){
            if (imc < 18.5){
                return "flaco";
            }
            else if (imc < 25){
                return "normal";
            }
            else if (imc < 30){
                return "sobrepeso";
            }
            else if (imc < 35){
                // return "Obesidad grado I";
                return "obesidad";
            }
            // else if (imc < 40){
            //     return "Obesidad grado II";
            // }
            else{
                // return "Obesidad grado III";
                return "obesidad_severa"
            }
        }
    </script>
</body>
</html>